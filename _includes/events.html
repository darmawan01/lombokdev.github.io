<section class="pt-24 pb-16 px-6 max-w-6xl mx-auto">
  {% assign now_ts = site.time | date: '%s' %}

  <h1 class="text-3xl font-bold mb-8">Upcoming Events</h1>
  <div class="space-y-6 mb-16">
  {% assign sorted_up = site.events | sort: 'date' %}
  {% for e in sorted_up %}
    {% assign e_ts = e.event_date | date: '%s' %}
    {% if e_ts >= now_ts %}
      <a href="{{ e.url }}" class="block group">
        <div class="bg-white shadow-lg rounded-2xl overflow-hidden border border-gray-100 group-hover:shadow-xl transition flex">
          
          <!-- Left section -->
          <div class="p-6 flex-1">
            <h2 class="text-xl font-semibold mb-2">{{ e.title }}</h2>
            <p class="text-sm text-gray-500 mb-1">ğŸ“… {{ e.event_date | date: '%Y-%m-%d' }}</p>
            <p class="text-gray-600 mb-3">{{ e.description | default: '' | truncate: 120 }}</p>
            
            {% if e.registration_url %}
              <span class="inline-block mt-3 px-3 py-1 text-sm bg-blue-600 text-white rounded-md">Register</span>
            {% endif %}
          </div>

          <!-- Right section (image) -->
          {% if e.banner %}
            <div class="w-2xs max-w-sm flex-shrink-0">
              <img src="{{ e.banner }}" alt="{{ e.title }}" class="w-full h-full object-cover">
            </div>
          {% endif %}
        </div>
      </a>
    {% endif %}
  {% endfor %}
</div>

  <h2 class="text-3xl font-bold mb-8">Past Events</h2>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {% assign sorted_down = site.events | sort: 'date' | reverse %}
    {% for e in sorted_down %}
      {% assign e_ts = e.event_date | date: '%s' %}
      {% if e_ts < now_ts %}
        <a href="{{ e.url | relative_url }}" class="block group">
          <div class="bg-white shadow-md rounded-2xl overflow-hidden border border-gray-100 group-hover:shadow-lg transition">
            {% if e.banner %}
              <img src="{{ e.banner }}" alt="{{ e.title }}" class="w-full h-40 object-cover">
            {% endif %}
            <div class="p-6">
              <h2 class="text-xl font-semibold mb-1">{{ e.title }}</h2>
              <p class="text-gray-600 mb-3">{{ e.description | default: '' | truncate: 120 }}</p>
              <p class="text-sm text-gray-500">ğŸ“… {{ e.event_date | date: '%Y-%m-%d' }} â€¢ ğŸ“ {{ e.location }} â€¢ ğŸ•’ {{ e.duration }}</p>
            </div>
          </div>
        </a>
      {% endif %}
    {% endfor %}
  </div>
</section>